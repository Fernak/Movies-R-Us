{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tiffa\\\\CPSC471\\\\Movies-R-Us\\\\src\\\\components\\\\dashboard\\\\pages\\\\ProgramDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Dashboard from '../Dashboard';\nimport { Button } from 'semantic-ui-react';\nimport styled from 'styled-components';\nimport CrewCard from '../../cards/CrewCard';\nimport ReviewCard from '../../cards/ReviewCard';\nimport AddReviewForm from '../../forms/AddReviewForm';\nimport { render } from '@testing-library/react';\nexport default function ProgramDetails(props) {\n  _s();\n\n  const [addReviewBtn, setAddReviewBtn] = useState(false);\n  const [programDetails, setProgramDetails] = useState([]);\n  const [programCrew, setProgramCrew] = useState([]);\n  const [programReviews, setProgramReviews] = useState([]);\n  const [userFavPrograms, setUserFavPrograms] = useState([]); //React JS - Toggle button: https://www.youtube.com/watch?v=artRW0PdPIY \n\n  var Uid = props.location.state['Uid'];\n  var userEmail = 'dennis.scott@email.com'; //var favBtnStatus = ''\n\n  var favPrograms = [];\n  /**API call to get all details of a program and will split and store into three separate arrays. */\n\n  useEffect(() => {\n    fetch(`/programdetails?Uid=${Uid}`).then(response => response.json()).then(data => {\n      setProgramDetails([data['programinfo']]);\n      setProgramCrew(data['programcrew']);\n      setProgramReviews(data['programreviews']); //console.log(props.location.state); \n      //console.log(props.location.state['state'])\n    });\n  }, []);\n  /**Geting all programs that the user has favourited used to set the content of the favourite button */\n\n  useEffect(() => {\n    fetch(`/userfavs?Email=${userEmail}`).then(response => response.json()).then(data => {\n      setUserFavPrograms([...data['favouriteshows'], ...data['favouritemovies']]);\n      console.log(userFavPrograms); //console.log(favObj)\n      //console.log(favPrograms)\n      //console.log(favPrograms)\n      //console.log(props.location.state['state'])\n    });\n  }, []);\n  /**Getting the Uid of all the user favourited movies */\n\n  for (var i = 0; i < userFavPrograms.length; i++) {\n    favPrograms.push(userFavPrograms[i]['Uid']);\n  } //console.log(favPrograms)\n\n\n  let initToggle;\n\n  if (favPrograms.includes(Uid)) {\n    initToggle = false;\n    console.log('Is in'); //console.log(favBtnStatus)\n  } else {\n      return true; // console.log(favBtnStatus)\n    }\n\n  const [toggle, setToggle] = useState(s);\n  console.log(toggle);\n  /*\r\n  useEffect(()=>{\r\n      fetch(`/programcrew?Uid=${Uid}`).then(response => \r\n          response.json()).then(data => { \r\n              console.log(data); \r\n              setProgramCrew(data); \r\n          }); \r\n  }, []); \r\n    useEffect(()=>{\r\n      fetch(`/programreviews?Uid=${Uid}`).then(response => \r\n          response.json()).then(data => { \r\n              console.log(data); \r\n              setProgramReviews(data); \r\n          }); \r\n  }, []);*/\n\n  /** Favourite button even handler (handling button click) */\n\n  async function addOrRemoveFavourite() {\n    /*Reuqest to add to user reviews  */\n    if (toggle == true) {\n      //console.log('Will add to favourites')\n      const request = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          Email: userEmail,\n          Uid: Uid,\n          Cid: ''\n        })\n      };\n      console.log(request);\n      const response = await fetch('/userfavs', request);\n\n      if (response.ok) {\n        console.log('Added to favourites added');\n        alert('Program has been successfully added to your favourites'); //favBtnStatus = 'Add To Favourites'     \n      } else {\n        console.log('Not successful');\n      }\n\n      console.log(Uid);\n    } else {\n      console.log('Remove from favourites');\n      console.log(Uid);\n      const request = {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      const response = await fetch(`/userfavs?Email=${userEmail}&Uid=${Uid}`, request);\n\n      if (response.ok) {\n        console.log('Removed from favourtes');\n        alert('Program has been successfully removed from your favourites'); //favBtnStatus = 'Add To Favourites'\n      } else {\n        console.log('Remove not successful');\n      } //favBtnStatus = 'Add To Favourites'\n\n    }\n\n    setToggle(!toggle);\n    console.log(toggle);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Dashboard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }), programDetails.map(details => {\n    if (details.Type == 'Movie') {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Top, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Image, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        style: {\n          width: \"250px\",\n          height: \"350px\"\n        },\n        src: details.Image,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 36\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginLeft: \"50px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 40\n        }\n      }, details.Name)), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 43\n        }\n      }, \"Type: \", details.Type)), /*#__PURE__*/React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 43\n        }\n      }, \"Age-Rating: \", details.Age_rating)), /*#__PURE__*/React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 43\n        }\n      }, \"Year: \", details.Year)), /*#__PURE__*/React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 43\n        }\n      }, \"Genre: \", details.Genre)), /*#__PURE__*/React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 43\n        }\n      }, \"Language: English\")), /*#__PURE__*/React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 43\n        }\n      }, \"Streaming Service: \", details.Service_name)), /*#__PURE__*/React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 43\n        }\n      }, \"Duration: \", details.Run_time)), /*#__PURE__*/React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 43\n        }\n      }, \"Arrival Date: March 28, 2018\")), /*#__PURE__*/React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 43\n        }\n      }, \"Departure Date: March 28, 2021\"))))), /*#__PURE__*/React.createElement(RatingText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 37\n        }\n      }, \"Rating: \", details.User_rating, \"/10\")), /*#__PURE__*/React.createElement(AddFavBtn, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: addOrRemoveFavourite,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 36\n        }\n      }, toggle ? \"Add To Favourites\" : \"Remove From Favourites\")), /*#__PURE__*/React.createElement(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 33\n        }\n      }, \"Synopsis\")), /*#__PURE__*/React.createElement(SynopText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 29\n        }\n      }, details.Description)), /*#__PURE__*/React.createElement(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 33\n        }\n      }, \"Crew\")), /*#__PURE__*/React.createElement(Scroll, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(CrewCard, {\n        programCrew: programCrew,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 33\n        }\n      }, \"Reviews \", /*#__PURE__*/React.createElement(AddRevBtn, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: () => setAddReviewBtn(true),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 56\n        }\n      }, \"Add Review\")))), /*#__PURE__*/React.createElement(ReviewCard, {\n        programReviews: programReviews,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(AddReviewForm, {\n        trigger: addReviewBtn,\n        setTrigger: setAddReviewBtn,\n        Uid: Uid,\n        onAddedReview: newReview => setProgramReviews(currentReviews => [...currentReviews, newReview]),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 25\n        }\n      }));\n    } else if (details.Type == 'TV Show') {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Top, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Image, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        style: {\n          width: \"250px\",\n          height: \"350px\"\n        },\n        src: details.Image,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 28\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginLeft: \"50px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 32\n        }\n      }, details.Name)), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 35\n        }\n      }, \"Type: \", details.Type)), /*#__PURE__*/React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 35\n        }\n      }, \"Age-Rating: \", details.Age_rating)), /*#__PURE__*/React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 35\n        }\n      }, \"Year: \", details.Year)), /*#__PURE__*/React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 35\n        }\n      }, \"Genre: \", details.Genre)), /*#__PURE__*/React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 35\n        }\n      }, \"Language: English\")), /*#__PURE__*/React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 35\n        }\n      }, \"Streaming Service: \", details.Service_name)), /*#__PURE__*/React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 35\n        }\n      }, \"Number of Seasons: \", details.No_of_seasons)), /*#__PURE__*/React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 35\n        }\n      }, \"Arrival Date: March 28, 2018\")), /*#__PURE__*/React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 35\n        }\n      }, \"Departure Date: March 28, 2021\"))))), /*#__PURE__*/React.createElement(RatingText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 29\n        }\n      }, \"Rating: \", details.User_rating, \"/10\")), /*#__PURE__*/React.createElement(AddFavBtn, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 28\n        }\n      })), /*#__PURE__*/React.createElement(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 25\n        }\n      }, \"Synopsis\")), /*#__PURE__*/React.createElement(SynopText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }\n      }, details.Description)), /*#__PURE__*/React.createElement(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 25\n        }\n      }, \"Crew\")), /*#__PURE__*/React.createElement(Scroll, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(CrewCard, {\n        programCrew: programCrew,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 25\n        }\n      }, \"Reviews \", /*#__PURE__*/React.createElement(AddRevBtn, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 48\n        }\n      }, \"Add Review\")))), /*#__PURE__*/React.createElement(ReviewCard, {\n        programReviews: programReviews,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(AddReviewForm, {\n        trigger: addReviewBtn,\n        setTrigger: setAddReviewBtn,\n        Uid: Uid,\n        onAddedReview: newReview => setProgramReviews(currentReviews => [...currentReviews, newReview]),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 17\n        }\n      }));\n    }\n  }));\n}\n\n_s(ProgramDetails, \"3aEwkEMTQqLgojAiGcn0t5u0Cd8=\");\n\n_c = ProgramDetails;\nconst Top = styled.div`\n    display: flex; \n    margin-top: 50px;\n    margin-left: 180px; \n`;\n_c2 = Top;\nconst Title = styled.div`\n    margin-right: 0px; \n    margin-bottom: 20px; \n`;\n_c3 = Title;\nconst Header = styled.div`\n    margin-left: 240px; \n    margin-top: 30px;\n`;\n_c4 = Header;\nconst Image = styled.div`\n    margin-left: 90px; \n    margin-right: 0px; \n`;\n_c5 = Image;\nconst AddFavBtn = styled.div`\n    margin-left: 270px; \n    margin-top: 20px;\n`;\n_c6 = AddFavBtn;\nconst AddRevBtn = styled.div`\n    margin-left: 750px; \n`;\n/*\r\n * References: \r\n * Making Scrollable sections within a page: \r\n *      How To Make A Div Vertically Scrollable Using CSS https://www.youtube.com/watch?v=uB1KzjV0IhM \r\n */\n\n_c7 = AddRevBtn;\nconst Scroll = styled.div`\n    height: 300px; \n    padding-bottom: 50px; \n    overflow: hidden; \n    overflow-y: auto; \n`;\n_c8 = Scroll;\nconst RatingText = styled.div`\n    margin-left: 270px; \n    margin-top: 20px;\n`;\n_c9 = RatingText;\nconst Text = styled.div`\n    margin-left: 30px; \n    margin-top: 0px; \n    margin-bottom: 10px; \n`;\n_c10 = Text;\nconst SynopText = styled.div`\n    margin-left: 270px; \n    margin-top: 10px; \n    width: 1010px; \n    display: flex; \n    justify-content: space-around; \n`;\n_c11 = SynopText;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n\n$RefreshReg$(_c, \"ProgramDetails\");\n$RefreshReg$(_c2, \"Top\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"Header\");\n$RefreshReg$(_c5, \"Image\");\n$RefreshReg$(_c6, \"AddFavBtn\");\n$RefreshReg$(_c7, \"AddRevBtn\");\n$RefreshReg$(_c8, \"Scroll\");\n$RefreshReg$(_c9, \"RatingText\");\n$RefreshReg$(_c10, \"Text\");\n$RefreshReg$(_c11, \"SynopText\");","map":{"version":3,"sources":["C:/Users/Tiffa/CPSC471/Movies-R-Us/src/components/dashboard/pages/ProgramDetails.js"],"names":["React","useState","useEffect","Dashboard","Button","styled","CrewCard","ReviewCard","AddReviewForm","render","ProgramDetails","props","addReviewBtn","setAddReviewBtn","programDetails","setProgramDetails","programCrew","setProgramCrew","programReviews","setProgramReviews","userFavPrograms","setUserFavPrograms","Uid","location","state","userEmail","favPrograms","fetch","then","response","json","data","console","log","i","length","push","initToggle","includes","toggle","setToggle","s","addOrRemoveFavourite","request","method","headers","body","JSON","stringify","Email","Cid","ok","alert","map","details","Type","width","height","Image","marginLeft","Name","Age_rating","Year","Genre","Service_name","Run_time","User_rating","Description","newReview","currentReviews","No_of_seasons","Top","div","Title","Header","AddFavBtn","AddRevBtn","Scroll","RatingText","Text","SynopText"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport Dashboard from '../Dashboard'\r\nimport {Button} from 'semantic-ui-react'\r\nimport styled from 'styled-components'\r\nimport CrewCard from '../../cards/CrewCard'\r\nimport ReviewCard from '../../cards/ReviewCard'\r\nimport AddReviewForm from '../../forms/AddReviewForm'\r\nimport { render } from '@testing-library/react'\r\n\r\nexport default function ProgramDetails(props) {\r\n    const [addReviewBtn, setAddReviewBtn] = useState(false); \r\n    const [programDetails, setProgramDetails] = useState([]);\r\n    const [programCrew, setProgramCrew] = useState([]); \r\n    const [programReviews, setProgramReviews] = useState([]); \r\n\r\n    const [userFavPrograms, setUserFavPrograms] = useState([]); \r\n    //React JS - Toggle button: https://www.youtube.com/watch?v=artRW0PdPIY \r\n\r\n    var Uid = props.location.state['Uid']\r\n    var userEmail = 'dennis.scott@email.com'\r\n    //var favBtnStatus = ''\r\n    var favPrograms = []\r\n\r\n    /**API call to get all details of a program and will split and store into three separate arrays. */\r\n    useEffect(()=>{\r\n        fetch(`/programdetails?Uid=${Uid}`).then(response => \r\n            response.json()).then(data => { \r\n                setProgramDetails([data['programinfo']]); \r\n                setProgramCrew(data['programcrew'])\r\n                setProgramReviews(data['programreviews'])\r\n                //console.log(props.location.state); \r\n                //console.log(props.location.state['state'])\r\n            }); \r\n    }, []); \r\n\r\n    /**Geting all programs that the user has favourited used to set the content of the favourite button */\r\n    useEffect(()=>{\r\n        fetch(`/userfavs?Email=${userEmail}`).then(response => \r\n            response.json()).then(data => { \r\n                setUserFavPrograms([...data['favouriteshows'], ...data['favouritemovies']])\r\n                console.log(userFavPrograms)\r\n                //console.log(favObj)\r\n                //console.log(favPrograms)\r\n                //console.log(favPrograms)\r\n                //console.log(props.location.state['state'])\r\n            }); \r\n    }, []); \r\n\r\n    /**Getting the Uid of all the user favourited movies */\r\n    for (var i=0; i<userFavPrograms.length; i++){\r\n        favPrograms.push(userFavPrograms[i]['Uid'])\r\n    }\r\n    //console.log(favPrograms)\r\n    let initToggle\r\n    if (favPrograms.includes(Uid)){\r\n        initToggle = false; \r\n        console.log('Is in')\r\n        //console.log(favBtnStatus)\r\n    }\r\n    else {\r\n        return true\r\n       // console.log(favBtnStatus)\r\n    }\r\n    const [toggle, setToggle] = useState(s)\r\n    console.log(toggle)\r\n\r\n    /*\r\n    useEffect(()=>{\r\n        fetch(`/programcrew?Uid=${Uid}`).then(response => \r\n            response.json()).then(data => { \r\n                console.log(data); \r\n                setProgramCrew(data); \r\n            }); \r\n    }, []); \r\n\r\n    useEffect(()=>{\r\n        fetch(`/programreviews?Uid=${Uid}`).then(response => \r\n            response.json()).then(data => { \r\n                console.log(data); \r\n                setProgramReviews(data); \r\n            }); \r\n    }, []);*/  \r\n\r\n    /** Favourite button even handler (handling button click) */\r\n    async function addOrRemoveFavourite(){\r\n        /*Reuqest to add to user reviews  */\r\n        if (toggle == true){ \r\n            //console.log('Will add to favourites')\r\n            const request = {\r\n                method: 'POST', \r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ Email: userEmail,  Uid: Uid, Cid: ''})\r\n            }\r\n            console.log(request)\r\n            const response = await fetch('/userfavs', request); \r\n            if (response.ok){\r\n                console.log('Added to favourites added')\r\n                alert('Program has been successfully added to your favourites')   \r\n                //favBtnStatus = 'Add To Favourites'     \r\n            } else{\r\n                console.log('Not successful')\r\n            }\r\n            console.log(Uid)\r\n        }\r\n        else{\r\n            console.log('Remove from favourites')\r\n            console.log(Uid)\r\n            const request = {\r\n                method: 'DELETE', \r\n                headers: { 'Content-Type': 'application/json' },\r\n            }\r\n            const response = await fetch(`/userfavs?Email=${userEmail}&Uid=${Uid}`, request); \r\n            if (response.ok){\r\n                console.log('Removed from favourtes')\r\n                alert('Program has been successfully removed from your favourites')\r\n                //favBtnStatus = 'Add To Favourites'\r\n            } else{\r\n                console.log('Remove not successful')\r\n            }\r\n            //favBtnStatus = 'Add To Favourites'\r\n        } \r\n        setToggle(!toggle)\r\n        console.log(toggle)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Dashboard/>\r\n            <h1></h1>\r\n            {programDetails.map(details => {\r\n                if (details.Type == 'Movie'){\r\n                    return (\r\n                        <div>\r\n                        <Top>\r\n                            <Image><img style={{width: \"250px\", height: \"350px\"}} src={details.Image} alt=\"\"/></Image>\r\n                            <div style={{marginLeft: \"50px\"}}>\r\n                                <Title><h1>{details.Name}</h1></Title>\r\n                                <div>\r\n                                    <Text><h3>Type: {details.Type}</h3></Text>\r\n                                    <Text><h3>Age-Rating: {details.Age_rating}</h3></Text>\r\n                                    <Text><h3>Year: {details.Year}</h3></Text>\r\n                                    <Text><h3>Genre: {details.Genre}</h3></Text>\r\n                                    <Text><h3>Language: English</h3></Text>\r\n                                    <Text><h3>Streaming Service: {details.Service_name}</h3></Text>\r\n                                    <Text><h3>Duration: {details.Run_time}</h3></Text>\r\n                                    <Text><h3>Arrival Date: March 28, 2018</h3></Text>\r\n                                    <Text><h3>Departure Date: March 28, 2021</h3></Text>\r\n                                </div>\r\n                            </div>\r\n                        </Top>\r\n                        <RatingText><h3>Rating: {details.User_rating}/10</h3></RatingText>\r\n                        <AddFavBtn><Button onClick={addOrRemoveFavourite}>{toggle ? \"Add To Favourites\" : \"Remove From Favourites\"}</Button></AddFavBtn>\r\n                        <Header><h2>Synopsis</h2></Header>\r\n                        <SynopText>\r\n                            <h4>{details.Description}</h4>\r\n                        </SynopText>\r\n                        <Header><h2>Crew</h2></Header>\r\n                        <Scroll><CrewCard programCrew={programCrew}/></Scroll>\r\n                        <Header><h2>Reviews <AddRevBtn><Button onClick={() => setAddReviewBtn(true)}>Add Review</Button></AddRevBtn></h2></Header>  \r\n                        <ReviewCard programReviews={programReviews}/>\r\n                        {/*References opening a review popup form: Build a POPUP component in React JS ~ A Beginner Tutorial with React https://www.youtube.com/watch?v=i8fAO_zyFAM */}\r\n                        <AddReviewForm trigger={addReviewBtn} setTrigger={setAddReviewBtn} Uid={Uid} onAddedReview={newReview => setProgramReviews(currentReviews => [...currentReviews, newReview])}/>\r\n                    </div>\r\n                )}\r\n                else if(details.Type == 'TV Show'){\r\n                    return(\r\n                        <div>\r\n                <Top>\r\n                    <Image><img style={{width: \"250px\", height: \"350px\"}} src={details.Image} alt=\"\"/></Image>\r\n                    <div style={{marginLeft: \"50px\"}}>\r\n                        <Title><h1>{details.Name}</h1></Title>\r\n                        <div>\r\n                            <Text><h3>Type: {details.Type}</h3></Text>\r\n                            <Text><h3>Age-Rating: {details.Age_rating}</h3></Text>\r\n                            <Text><h3>Year: {details.Year}</h3></Text>\r\n                            <Text><h3>Genre: {details.Genre}</h3></Text>\r\n                            <Text><h3>Language: English</h3></Text>\r\n                            <Text><h3>Streaming Service: {details.Service_name}</h3></Text>\r\n                            <Text><h3>Number of Seasons: {details.No_of_seasons}</h3></Text>\r\n                            <Text><h3>Arrival Date: March 28, 2018</h3></Text>\r\n                            <Text><h3>Departure Date: March 28, 2021</h3></Text>\r\n                        </div>\r\n                    </div>\r\n                </Top>\r\n                <RatingText><h3>Rating: {details.User_rating}/10</h3></RatingText>\r\n                <AddFavBtn><Button></Button></AddFavBtn>\r\n                <Header><h2>Synopsis</h2></Header>\r\n                <SynopText>\r\n                    <h4>{details.Description}</h4>\r\n                </SynopText>\r\n                <Header><h2>Crew</h2></Header>\r\n                <Scroll><CrewCard programCrew={programCrew}/></Scroll>\r\n                <Header><h2>Reviews <AddRevBtn><Button>Add Review</Button></AddRevBtn></h2></Header>\r\n                <ReviewCard programReviews={programReviews}/>\r\n                <AddReviewForm trigger={addReviewBtn} setTrigger={setAddReviewBtn} Uid={Uid} onAddedReview={newReview => setProgramReviews(currentReviews => [...currentReviews, newReview])}/>\r\n            </div>\r\n            )}})}\r\n        </>\r\n    )\r\n}\r\n\r\nconst Top = styled.div`\r\n    display: flex; \r\n    margin-top: 50px;\r\n    margin-left: 180px; \r\n`\r\nconst Title = styled.div `\r\n    margin-right: 0px; \r\n    margin-bottom: 20px; \r\n`\r\n\r\nconst Header = styled.div`\r\n    margin-left: 240px; \r\n    margin-top: 30px;\r\n`\r\nconst Image = styled.div`\r\n    margin-left: 90px; \r\n    margin-right: 0px; \r\n`\r\nconst AddFavBtn = styled.div `\r\n    margin-left: 270px; \r\n    margin-top: 20px;\r\n`\r\n\r\nconst AddRevBtn = styled.div `\r\n    margin-left: 750px; \r\n`\r\n\r\n/*\r\n * References: \r\n * Making Scrollable sections within a page: \r\n *      How To Make A Div Vertically Scrollable Using CSS https://www.youtube.com/watch?v=uB1KzjV0IhM \r\n */\r\nconst Scroll = styled.div`\r\n    height: 300px; \r\n    padding-bottom: 50px; \r\n    overflow: hidden; \r\n    overflow-y: auto; \r\n`\r\n\r\nconst RatingText = styled.div `\r\n    margin-left: 270px; \r\n    margin-top: 20px;\r\n`\r\n\r\nconst Text = styled.div `\r\n    margin-left: 30px; \r\n    margin-top: 0px; \r\n    margin-bottom: 10px; \r\n`\r\n\r\nconst SynopText = styled.div `\r\n    margin-left: 270px; \r\n    margin-top: 10px; \r\n    width: 1010px; \r\n    display: flex; \r\n    justify-content: space-around; \r\n`"]},"metadata":{},"sourceType":"module"}