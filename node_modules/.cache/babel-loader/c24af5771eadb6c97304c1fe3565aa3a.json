{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tiffa\\\\CPSC471\\\\Movies-R-Us\\\\src\\\\components\\\\forms\\\\AddReviewForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport styled from 'styled-components';\nimport { Form, Input, Rating } from 'semantic-ui-react';\nexport default function AddReviewForm(props) {\n  _s();\n\n  const [userRating, setUserRating] = useState(0);\n  const [review, setReview] = useState('');\n  console.log(props.Uid);\n\n  function closeReview() {\n    props.setTrigger(false);\n    setUserRating(0);\n    setReview('');\n  }\n\n  async function submitReview() {\n    if (review == '') {\n      console.log('error! Description cannot be empty');\n      alert('Description field cannot be empty!');\n    } else {\n      const request = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          Uid: '1f3cd5cd-93ca-11eb-a502-00ff9885c460',\n          Author: 'jonathan.smith',\n          Rating: userRating,\n          Description: review\n        })\n      };\n      const response = await fetch('/userreview', request);\n\n      if (response.ok) {\n        console.log('Review added');\n      } else {\n        console.log('Not successful');\n      }\n\n      props.setTrigger(false);\n      console.log(review);\n      console.log(userRating);\n      setUserRating(0);\n      setReview('');\n    }\n  }\n  /*References: \r\n      * Creating a add review popup form where users can add a review: \r\n          * Build a POPUP component in React JS ~ A Beginner Tutorial with React https://www.youtube.com/watch?v=i8fAO_zyFAM */\n\n\n  return props.trigger ? /*#__PURE__*/React.createElement(Popup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ReviewForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CloseBtn, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"default\",\n    style: {\n      background: \"#9FFFCB\"\n    },\n    onClick: closeReview,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 31\n    }\n  }, \"X\")), /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Rating, {\n    icon: \"star\",\n    maxRating: 5,\n    value: userRating,\n    onRate: (_, data) => {\n      setUserRating(data.rating);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Write your review here\",\n    value: review,\n    onChange: event => setReview(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(SubmitBtn, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"default\",\n    style: {\n      background: \"#9FFFCB\"\n    },\n    onClick: submitReview,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 32\n    }\n  }, \"Submit\"))), props.children)) : \"\";\n}\n\n_s(AddReviewForm, \"4v5qh7wvjuxLTxYH6gUrQoqf1cY=\");\n\n_c = AddReviewForm;\n;\nconst Popup = styled.div`\n    display: flex; \n    justify-content: center; \n    align-items: center; \n    position: fixed; \n    top: 0; \n    left: 0; \n    width: 100%; \n    height: 100vh;  \n    background-color: rgba(0, 0, 0, 0.2);\n`;\n_c2 = Popup;\nconst ReviewForm = styled.div`\n    position: relative; \n    width: 700px; \n    padding: 10px;  \n    background-color: white; \n    border-radius: 10px;\n`;\n_c3 = ReviewForm;\nconst CloseBtn = styled.div`\n    margin-top: 0px; \n    margin-bottom: 10px;  \n    margin-left: 645px;   \n`;\n_c4 = CloseBtn;\nconst SubmitBtn = styled.div`\n    margin-top = 10px;  \n    margin-left: 600px;\n`;\n_c5 = SubmitBtn;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"AddReviewForm\");\n$RefreshReg$(_c2, \"Popup\");\n$RefreshReg$(_c3, \"ReviewForm\");\n$RefreshReg$(_c4, \"CloseBtn\");\n$RefreshReg$(_c5, \"SubmitBtn\");","map":{"version":3,"sources":["C:/Users/Tiffa/CPSC471/Movies-R-Us/src/components/forms/AddReviewForm.js"],"names":["React","useState","Button","styled","Form","Input","Rating","AddReviewForm","props","userRating","setUserRating","review","setReview","console","log","Uid","closeReview","setTrigger","submitReview","alert","request","method","headers","body","JSON","stringify","Author","Description","response","fetch","ok","trigger","background","_","data","rating","event","target","value","children","Popup","div","ReviewForm","CloseBtn","SubmitBtn"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\r\nimport {Button} from 'react-bootstrap'\r\nimport styled from 'styled-components'\r\nimport {Form, Input, Rating} from 'semantic-ui-react'\r\n\r\nexport default function AddReviewForm(props){\r\n    const [userRating, setUserRating] = useState(0)\r\n    const [review, setReview] = useState('')\r\n    console.log(props.Uid)\r\n\r\n    function closeReview(){\r\n        props.setTrigger(false)\r\n        setUserRating(0)\r\n        setReview('') \r\n    }\r\n\r\n    async function submitReview(){\r\n        if (review == ''){\r\n            console.log('error! Description cannot be empty')\r\n            alert('Description field cannot be empty!')\r\n        } \r\n        else{\r\n            const request = {\r\n                method: 'POST', \r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ Uid: '1f3cd5cd-93ca-11eb-a502-00ff9885c460', Author: 'jonathan.smith', Rating: userRating, Description: review})\r\n            }\r\n            const response = await fetch('/userreview', request); \r\n            if (response.ok){\r\n                console.log('Review added')\r\n             \r\n            } else{\r\n                console.log('Not successful')\r\n            }\r\n            \r\n\r\n            props.setTrigger(false)\r\n            console.log(review)\r\n            console.log(userRating)\r\n            setUserRating(0)\r\n            setReview('')   \r\n        }    \r\n    }\r\n    /*References: \r\n        * Creating a add review popup form where users can add a review: \r\n            * Build a POPUP component in React JS ~ A Beginner Tutorial with React https://www.youtube.com/watch?v=i8fAO_zyFAM */\r\n    return (props.trigger)?(\r\n        <Popup>\r\n            <ReviewForm>\r\n                <Form>\r\n                    <CloseBtn><Button variant=\"default\"style={{background: \"#9FFFCB\"}} onClick={closeReview}>X</Button></CloseBtn>\r\n                    <Form.Field>\r\n                        <Rating icon='star' maxRating={5} value={userRating} onRate={(_, data) => {setUserRating(data.rating)}}/> \r\n                    </Form.Field>\r\n                    <Form.Field>\r\n                        <Input placeholder=\"Write your review here\" value={review} onChange={event => setReview(event.target.value)}/>\r\n                    </Form.Field>\r\n                    <SubmitBtn><Button variant=\"default\"style={{background: \"#9FFFCB\" }} onClick={submitReview}>Submit</Button></SubmitBtn>\r\n                </Form>\r\n                {props.children}    \r\n            </ReviewForm>             \r\n        </Popup>\r\n    ) : \"\"; \r\n}; \r\n\r\nconst Popup = styled.div `\r\n    display: flex; \r\n    justify-content: center; \r\n    align-items: center; \r\n    position: fixed; \r\n    top: 0; \r\n    left: 0; \r\n    width: 100%; \r\n    height: 100vh;  \r\n    background-color: rgba(0, 0, 0, 0.2);\r\n`\r\n\r\nconst ReviewForm = styled.div `\r\n    position: relative; \r\n    width: 700px; \r\n    padding: 10px;  \r\n    background-color: white; \r\n    border-radius: 10px;\r\n`\r\n\r\nconst CloseBtn = styled.div`\r\n    margin-top: 0px; \r\n    margin-bottom: 10px;  \r\n    margin-left: 645px;   \r\n`\r\nconst SubmitBtn = styled.div`\r\n    margin-top = 10px;  \r\n    margin-left: 600px;\r\n`\r\n"]},"metadata":{},"sourceType":"module"}